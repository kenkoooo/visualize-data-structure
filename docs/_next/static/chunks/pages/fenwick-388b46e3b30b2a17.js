(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{6609:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fenwick",function(){return n(46)}])},46:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return N}});var t=n(5810),a=n(7294),u=n.t(a,2),i=(n(8357),n(8679),n(2243));u.useInsertionEffect?u.useInsertionEffect:a.useLayoutEffect;function o(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return(0,i.O)(e)}var c=n(9008),s=n.n(c);function f(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function l(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function d(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}function v(r){return function(r){if(Array.isArray(r))return f(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"===typeof r)return f(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(){var r=d(["\n  display: flex;\n  flex-direction: row;\n"]);return h=function(){return r},r}function p(){var r=d(["\n  padding: 10px;\n  width: 80px;\n"]);return p=function(){return r},r}function m(){var r=d(["\n  display: flex;\n  width: 100%;\n  flex-direction: row-reverse;\n"]);return m=function(){return r},r}function y(){var r=d(["\n  border: "," solid;\n  background-color: ",";\n  text-align: right;\n"]);return y=function(){return r},r}function b(){var r=d(["\n  width: 100%;\n"]);return b=function(){return r},r}var g=function(r){var e=r.value,n=r.onChange,u=(0,a.useState)(!1),i=u[0],o=u[1];return i?(0,t.tZ)("input",{css:k,type:"number",size:1,value:e,onChange:function(r){var e=Number.parseInt(r.target.value);Number.isInteger(e)&&n(e)},onBlur:function(){return o(!1)}}):(0,t.tZ)("p",{onClick:function(){o(!0)},children:e})},w=function(r){for(var e=[],n=0;n<r;n++){for(var t=0,a=n+1;a%2===0&&a>0;)a/=2,t+=1;for(;e.length<=t;)e.push(new Set);e[t].add(n)}var u=[];return e.forEach((function(e,n){for(var t=1<<n,a=[],i=0;i<r;i++)if(e.has(i)){for(var o=0;o<t-1;o++)a.pop();a.push({value:i,range:t})}else a.push(void 0);u.push(a)})),u},Z=function(r,e,n){for(var t=e,a=new Set;t<r.length;)r[t]+=n,a.add(t),t|=t+1;return a},S=function(r){var e=v(r);return e.fill(0),r.forEach((function(r,n){Z(e,n,r)})),e},O=function(){var r=(0,a.useState)({array:[0],data:[0],sumTraversed:new Set,setTraversed:new Set,sum:0}),e=r[0],n=r[1];return{state:e,updateLength:function(r){if(r>e.array.length){for(var t=v(e.array);t.length<r;)t.push(0);n({array:t,data:S(t),sumTraversed:new Set,setTraversed:new Set,sum:0})}else{var a=e.array.slice(0,r);n({array:a,data:S(a),sumTraversed:new Set,setTraversed:new Set,sum:0})}},setValue:function(r,t){var a=v(e.array),u=t-a[r];a[r]=t;var i=v(e.data),o=Z(i,r,u);n({array:a,data:i,sumTraversed:new Set,setTraversed:o,sum:0})},sumValue:function(r){var t=function(r,e){for(var n=0,t=e-1,a=new Set;t>=0;)n+=r[t],a.add(t),t=(t&t+1)-1;return{sum:n,traversed:a}}(e.data,r),a=t.sum,u=t.traversed;n(function(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),t.forEach((function(e){l(r,e,n[e])}))}return r}({},e,{setTraversed:new Set,sumTraversed:u,sum:a}))}}},T=o(h()),E=o(p()),_=o(m()),j=function(r,e){return o(y(),e?"0":"1px",r)},k=o(b()),N=function(){var r=O(),e=r.state,n=r.updateLength,a=r.setValue,u=r.sumValue,i=w(e.array.length);return(0,t.BX)(t.HY,{children:[(0,t.tZ)(s(),{children:(0,t.tZ)("title",{children:"Fenwick Tree"})}),(0,t.BX)("div",{children:[(0,t.tZ)("table",{children:(0,t.BX)("tbody",{children:[i.map((function(r,n){return(0,t.tZ)("tr",{children:r.map((function(r,n){if(r){var a=r.value,u=r.range,i=e.sumTraversed.has(a)?"orange":e.setTraversed.has(a)?"cyan":void 0;return(0,t.tZ)("td",{colSpan:u,css:j(i),children:(0,t.tZ)("div",{css:_,children:(0,t.tZ)("div",{css:E,children:e.data[a]})})},n)}return(0,t.tZ)("td",{css:j(void 0,!0),children:(0,t.tZ)("div",{css:_,children:(0,t.tZ)("div",{css:E})})},n)}))},n)})),(0,t.tZ)("tr",{children:e.array.map((function(r,e){return(0,t.tZ)("td",{css:j(),children:(0,t.tZ)("div",{css:E,children:(0,t.tZ)(g,{value:r,onChange:function(r){a(e,r)}})})},e)}))}),(0,t.tZ)("tr",{children:e.array.map((function(r,e){return(0,t.tZ)("td",{css:j(),children:(0,t.tZ)("div",{css:E,children:(0,t.tZ)("button",{onClick:function(){u(e+1)},children:e})})},e)}))})]})}),(0,t.BX)("div",{css:T,children:[(0,t.tZ)("p",{children:"N="}),(0,t.tZ)("input",{type:"number",value:e.array.length,onChange:function(r){var e=Number.parseInt(r.target.value);Number.isInteger(e)&&e>0&&n(e)}})]}),(0,t.tZ)("div",{css:T,children:(0,t.BX)("p",{children:["sum=",e.sum]})})]})]})}},9008:function(r,e,n){r.exports=n(3121)}},function(r){r.O(0,[774,888,179],(function(){return e=6609,r(r.s=e);var e}));var e=r.O();_N_E=e}]);